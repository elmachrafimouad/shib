(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[848],{1915:function(e,t,n){"use strict";n.r(t);var r=n(809),a=n.n(r),s=n(2447),o=n(4047),c=n(2700),l=n(4706),u=n(8127),d=n(4102),i=n(775),h=n(6265),k=n(7294),f=n.n(k),p=n(6430),m=n(1719),b=n(8237),v=n(8788),Z=n(1364),w=(n(835),n(8974)),g=n(7867),x=n(9143),S=f().createElement;function A(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var C=new(n(7918)),I=(C.utils.BN,function(e){(0,u.Z)(n,e);var t=A(n);function n(e){var r;return(0,o.Z)(this,n),r=t.call(this,e),(0,h.Z)((0,l.Z)(r),"state",{loaded:!1,disabled:!1,tokenSymbol:"",recipientAddress:"",tokenAmount:"",tokenRate:0,errorMessage:"",checked:!1}),(0,h.Z)((0,l.Z)(r),"componentDidMount",(0,s.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,x.Z)();case 3:return r.web3=e.sent,e.next=6,r.web3.eth.getAccounts();case 6:return r.accounts=e.sent,e.next=9,r.web3.eth.net.getId();case 9:return r.networkId=e.sent,r.tokenSaleInstance=new r.web3.eth.Contract(w.Mt,w.QW[r.networkId]&&w.QW[r.networkId].address),r.tokenInstance=new r.web3.eth.Contract(g.Mt,g.QW[r.networkId]&&g.QW[r.networkId].address),e.next=14,r.tokenSaleInstance.methods.rate().call();case 14:return r.tokenRate=e.sent,e.next=17,C.utils.fromWei(r.tokenRate,"ether");case 17:return r.rate=e.sent,r.setState({tokenRate:r.rate}),e.next=21,r.tokenInstance.methods.balanceOf(r.accounts[0]).call();case 21:return t=e.sent,e.next=24,r.tokenInstance.methods.symbol().call();case 24:e.sent,r.setState({userTokens:t}),e.next=32;break;case 28:e.prev=28,e.t0=e.catch(0),console.log(e.t0),alert("Failed to load web3, accounts, or contract. Check console for details.");case 32:case"end":return e.stop()}}),e,null,[[0,28]])})))),(0,h.Z)((0,l.Z)(r),"handleSendToken",(0,s.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({loaded:!0,errorMessage:""}),e.prev=1,e.next=4,r.tokenInstance.methods.balanceOf(r.accounts[0]).call();case 4:if(t=r.tokenRate=e.sent,console.log(t+"BMB"),!r.state.checked){e.next=22;break}if(!(t>=r.state.tokenAmount&&r.state.tokenAmount>0)){e.next=19;break}return e.prev=8,e.next=11,r.tokenInstance.methods.transfer(r.state.recipientAddress,C.utils.toWei(r.state.tokenAmount,"Ether")).send({from:r.accounts[0]});case 11:r.setState({loaded:!1,errorMessage:"1 Token sent to this address '"+r.state.recipientAddress+"'"}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(8),r.setState({loaded:!1,errorMessage:e.t0.message});case 17:e.next=20;break;case 19:r.setState({loaded:!1,errorMessage:"Your don't have enough Token balance"});case 20:e.next=23;break;case 22:r.state.checked||r.setState({loaded:!1,errorMessage:"Accept Terms & Conditions"});case 23:e.next=28;break;case 25:e.prev=25,e.t1=e.catch(1),r.setState({loaded:!1,errorMessage:e.t1.message});case 28:case"end":return e.stop()}}),e,null,[[1,25],[8,14]])})))),(0,h.Z)((0,l.Z)(r),"handleCheckbox",(0,s.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.state.checked?r.setState({checked:!1}):r.setState({checked:!0});case 1:case"end":return e.stop()}}),e)})))),r}return(0,c.Z)(n,[{key:"render",value:function(){var e=this;return S(Z.Z,null,S("div",null,S("h3",null,"Send ",this.state.tokenSymbol," Token"),S(p.Z,{error:!!this.state.errorMessage},S(p.Z.Field,null,S("label",null,"1 ",this.state.tokenSymbol," Token = ",this.state.tokenRate," BNB")),S(p.Z.Field,null,S("label",null,"Recipient Address"),S("input",{onChange:function(t){return e.setState({recipientAddress:t.target.value})},value:this.state.recipientAddress,placeholder:"Recipient Address"})),S(p.Z.Field,null,S("label",null,"Amount"),S("input",{onChange:function(t){return e.setState({tokenAmount:t.target.value})},value:this.state.tokenAmount,placeholder:"Amount of Token"})),S(p.Z.Field,null,S(m.Z,{onChange:this.handleCheckbox,name:"terms_conditions",label:"I agree to the Terms and Conditions"})),S(b.Z,{loading:this.state.loaded,onClick:this.handleSendToken,content:"SEND",primary:!0}),S(v.Z,{error:!0,header:"Note",content:this.state.errorMessage}))))}}]),n}(k.Component));t.default=I},7270:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/send-token",function(){return n(1915)}])}},function(e){e.O(0,[774,543,930,351,592,416,515,479],(function(){return t=7270,e(e.s=t);var t}));var t=e.O();_N_E=t}]);